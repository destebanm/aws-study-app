{"ast":null,"code":"import React,{useState,useEffect}from'react';import{format}from'date-fns';import{es}from'date-fns/locale';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getHistory=()=>{const history=localStorage.getItem('aws-history');return history?JSON.parse(history):[];};const Dashboard=()=>{const[testHistory,setTestHistory]=useState([]);useEffect(()=>{const history=getHistory();// Sort by date, most recent first\nhistory.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));setTestHistory(history);},[]);const calculateStats=()=>{if(testHistory.length===0)return null;const stats={totalTests:testHistory.length,averageScore:testHistory.reduce((acc,test)=>acc+test.score,0)/testHistory.length,bestScore:Math.max(...testHistory.map(test=>test.score)),passedTests:testHistory.filter(test=>test.score>=72).length,totalQuestions:testHistory.reduce((acc,test)=>acc+test.numberOfQuestions,0)};return stats;};const stats=calculateStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Mi Historial de Ex\\xE1menes\"}),testHistory.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"A\\xFAn no has completado ning\\xFAn examen. \\xA1Empieza uno nuevo para ver tu progreso!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tests Completados\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.totalTests})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Puntuaci\\xF3n Media\"}),/*#__PURE__*/_jsxs(\"p\",{children:[stats.averageScore.toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Mejor Puntuaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{children:[stats.bestScore.toFixed(2),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tests Aprobados\"}),/*#__PURE__*/_jsxs(\"p\",{children:[stats.passedTests,\" de \",stats.totalTests]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Preguntas\"}),/*#__PURE__*/_jsx(\"p\",{children:stats.totalQuestions})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"history-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"N\\xBA Preguntas\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Puntuaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:testHistory.map(test=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:format(new Date(test.createdAt),\"d 'de' MMMM 'de' yyyy, HH:mm\",{locale:es})}),/*#__PURE__*/_jsx(\"td\",{className:\"center-text\",children:test.numberOfQuestions}),/*#__PURE__*/_jsxs(\"td\",{className:\"center-text score \".concat(test.score>=72?'pass':'fail'),children:[test.score.toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"center-text\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert(\"Pr\\xF3ximamente: Revisar test \".concat(test._id)),children:\"Revisar\"})})]},test._id))})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","format","es","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getHistory","history","localStorage","getItem","JSON","parse","Dashboard","testHistory","setTestHistory","sort","a","b","Date","createdAt","calculateStats","length","stats","totalTests","averageScore","reduce","acc","test","score","bestScore","Math","max","map","passedTests","filter","totalQuestions","numberOfQuestions","className","children","toFixed","locale","concat","onClick","alert","_id"],"sources":["/Users/danielestebanmenendez/workspace/aws-esteban-training/aws-study-app/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport './Dashboard.css';\n\nconst getHistory = () => {\n    const history = localStorage.getItem('aws-history');\n    return history ? JSON.parse(history) : [];\n}\n\nconst Dashboard = () => {\n  const [testHistory, setTestHistory] = useState([]);\n\n  useEffect(() => {\n    const history = getHistory();\n    // Sort by date, most recent first\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    setTestHistory(history);\n  }, []);\n\n  const calculateStats = () => {\n    if (testHistory.length === 0) return null;\n\n    const stats = {\n      totalTests: testHistory.length,\n      averageScore: testHistory.reduce((acc, test) => acc + test.score, 0) / testHistory.length,\n      bestScore: Math.max(...testHistory.map(test => test.score)),\n      passedTests: testHistory.filter(test => test.score >= 72).length,\n      totalQuestions: testHistory.reduce((acc, test) => acc + test.numberOfQuestions, 0)\n    };\n    return stats;\n  };\n\n  const stats = calculateStats();\n\n  return (\n    <div className=\"dashboard-container\">\n      <h2>Mi Historial de Exámenes</h2>\n      {testHistory.length === 0 ? (\n        <p>Aún no has completado ningún examen. ¡Empieza uno nuevo para ver tu progreso!</p>\n      ) : (\n        <>\n          <div className=\"stats-container\">\n            <div className=\"stat-card\">\n              <h3>Tests Completados</h3>\n              <p>{stats.totalTests}</p>\n            </div>\n            <div className=\"stat-card\">\n              <h3>Puntuación Media</h3>\n              <p>{stats.averageScore.toFixed(2)}%</p>\n            </div>\n            <div className=\"stat-card\">\n              <h3>Mejor Puntuación</h3>\n              <p>{stats.bestScore.toFixed(2)}%</p>\n            </div>\n            <div className=\"stat-card\">\n              <h3>Tests Aprobados</h3>\n              <p>{stats.passedTests} de {stats.totalTests}</p>\n            </div>\n            <div className=\"stat-card\">\n              <h3>Total Preguntas</h3>\n              <p>{stats.totalQuestions}</p>\n            </div>\n          </div>\n          <table className=\"history-table\">\n            <thead>\n              <tr>\n                <th>Fecha</th>\n                <th>Nº Preguntas</th>\n                <th>Puntuación</th>\n                <th>Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {testHistory.map(test => (\n                <tr key={test._id}>\n                  <td>{format(new Date(test.createdAt), \"d 'de' MMMM 'de' yyyy, HH:mm\", { locale: es })}</td>\n                  <td className=\"center-text\">{test.numberOfQuestions}</td>\n                  <td className={`center-text score ${test.score >= 72 ? 'pass' : 'fail'}`}>{test.score.toFixed(2)}%</td>\n                  <td className=\"center-text\"><button onClick={() => alert(`Próximamente: Revisar test ${test._id}`)}>Revisar</button></td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}